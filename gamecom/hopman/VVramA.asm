include "Vram.inc"
include "VVram.inc"
include "Chars.inc"

ext VVram_
ext CellMap_,LeftX_,DotOffset_

ColumnCount equ 12*8
FloorCount equ 3
FloorHeight equ 4
CellWidth equ 2
ColumnsPerByte equ 4
MapWidth equ ColumnCount/ColumnsPerByte
StageTop equ 2

; void MapToVVram();
cseg
MapToVVram_: public MapToVVram_
    pushw rr0 | pushw rr2 | pushw rr4 | pushw rr8 | pushw rr10 | pushw rr14
        mov r0,@DotOffset_ | clr r1
        srl r0 | rrc r1
        addw rr0,CellChars0
        movw rr14,rr0

        mov r1,@LeftX_ | mov r3,r1
        srl r1 | srl r1 | srl r1
        clr r0
        addw rr0,CellMap_
        movw rr8,rr0

        clr r2 ; xPos
        movw rr10,VVram+VVramWidth*StageTop
        btst r3,1
        if nz
            dec r2
            decw rr10
        endif
        srl r3
        and r3,3 ; shiftCount

        mov r0,FloorCount
        do
            pushw rr2 | pushw rr8 | pushw rr10
                mov r5,(rr8)+
                mov r4,(rr8)+

                mov r1,r3
                or r1,r1
                do | while nz
                    srl r4 | rrc r5
                    srl r4 | rrc r5
                    dec r1
                wend

                mov r1,VVramWidth/2+1
                do
                    pushw rr0
                        mov r1,r5
                        and r1,0fh
                        sll r1 | sll r1 | sll r1
                        clr r0
                        addw rr0,rr14
                        pushw rr8
                            movw rr8,rr0

                            mov r0,FloorHeight
                            do
                                mov r1,CellWidth
                                do
                                    pushw rr0
                                        cmp r2,VVramWidth ; xPos
                                        if c
                                            mov r1,@rr8
                                            mov @rr10,r1
                                        endif
                                        incw rr8
                                        incw rr10
                                        inc r2
                                    popw rr0
                                    dec r1
                                while nz|wend
                                                _deb: public _deb
                                sub r2,CellWidth
                                addw rr10,VVramWidth-CellWidth

                                dec r0
                            while nz|wend
                            add r2,CellWidth
                            addw rr10,CellWidth-VVramWidth*FloorHeight

                            srl r4 | rrc r5
                            srl r4 | rrc r5
                        popw rr8
                        inc r3 ; shiftCount
                        and r3,3
                        if z
                            mov r4,(rr8)+
                        endif
                    popw rr0
                    dec r1
                while nz|wend
            popw rr10 | popw rr8 | popw rr2
            addw rr10,VVramWidth*FloorHeight
            addw rr8,MapWidth

            dec r0
        while nz|wend
    popw rr14 | popw rr10 | popw rr8 | popw rr4 | popw rr2 | popw rr0
ret


CellChars0:
	; 0
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	; 1
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 2
	defb Char_Space,Char_Space
	defb Char_Item_TopLeft_Item_TopRight0,Char_Item_TopRight_Space0
	defb Char_Item_BottomLeft_Item_BottomRight0,Char_Space
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 3
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Needle_Needle0,Char_Needle_Needle0
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 4
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	; 5
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 6
	defb Char_Space,Char_Space
	defb Char_Item_TopLeft_Item_TopRight0,Char_Item_TopRight_Space0
	defb Char_Item_BottomLeft_Item_BottomRight0,Char_Space
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 7
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Needle_Needle0,Char_Needle_Needle0
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 8
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	; 9
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 10
	defb Char_Space,Char_Space
	defb Char_Item_TopLeft_Item_TopRight0,Char_Item_TopRight_Space0
	defb Char_Item_BottomLeft_Item_BottomRight0,Char_Space
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 11
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Needle_Needle0,Char_Needle_Needle0
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 12
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	; 13
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 14
	defb Char_Space,Char_Space
	defb Char_Item_TopLeft_Item_TopRight0,Char_Item_TopRight_Space0
	defb Char_Item_BottomLeft_Item_BottomRight0,Char_Space
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 15
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Needle_Needle0,Char_Needle_Needle0
	defb Char_Floor_Floor0,Char_Floor_Floor0
CellChars1:
	; 0
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	; 1
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Floor_Floor0,Char_Floor_Space1
	; 2
	defb Char_Space,Char_Space
	defb Char_Item_TopLeft_Item_TopRight1,Char_Item_TopRight_Space1
	defb Char_Item_BottomLeft_Item_BottomRight1,Char_Space
	defb Char_Floor_Floor0,Char_Floor_Space1
	; 3
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Needle_Needle1,Char_Needle_Space1
	defb Char_Floor_Floor0,Char_Floor_Space1
	; 4
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space_Floor1
	; 5
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 6
	defb Char_Space,Char_Space
	defb Char_Item_TopLeft_Item_TopRight1,Char_Item_TopRight_Space1
	defb Char_Item_BottomLeft_Item_BottomRight1,Char_Space
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 7
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Needle_Needle1,Char_Needle_Space1
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 8
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space_Floor1
	; 9
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 10
	defb Char_Space,Char_Space
	defb Char_Item_TopLeft_Item_TopRight1,Char_Item_TopRight_Space1
	defb Char_Item_BottomLeft_Item_BottomRight1,Char_Space
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 11
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Needle_Needle1,Char_Needle_Space1
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 12
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space_Needle1
	defb Char_Space,Char_Space_Floor1
	; 13
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space_Needle1
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 14
	defb Char_Space,Char_Space
	defb Char_Item_TopLeft_Item_TopRight1,Char_Item_TopRight_Space1
	defb Char_Item_BottomLeft_Item_BottomRight1,Char_Space_Needle1
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 15
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Needle_Needle1,Char_Needle_Needle1
	defb Char_Floor_Floor0,Char_Floor_Floor0
CellChars2:
	; 0
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	; 1
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Floor_Floor0,Char_Floor_Space2
	; 2
	defb Char_Space,Char_Space
	defb Char_Item_TopLeft_Item_TopRight2,Char_Item_TopRight_Space2
	defb Char_Item_BottomLeft_Item_BottomRight2,Char_Space
	defb Char_Floor_Floor0,Char_Floor_Space2
	; 3
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Needle_Needle2,Char_Needle_Space2
	defb Char_Floor_Floor0,Char_Floor_Space2
	; 4
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space_Floor2
	; 5
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 6
	defb Char_Space,Char_Space
	defb Char_Item_TopLeft_Item_TopRight2,Char_Item_TopRight_Space2
	defb Char_Item_BottomLeft_Item_BottomRight2,Char_Space
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 7
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Needle_Needle2,Char_Needle_Space2
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 8
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space_Floor2
	; 9
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 10
	defb Char_Space,Char_Space
	defb Char_Item_TopLeft_Item_TopRight2,Char_Item_TopRight_Space2
	defb Char_Item_BottomLeft_Item_BottomRight2,Char_Space
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 11
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Needle_Needle2,Char_Needle_Space2
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 12
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space_Needle2
	defb Char_Space,Char_Space_Floor2
	; 13
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space_Needle2
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 14
	defb Char_Space,Char_Space
	defb Char_Item_TopLeft_Item_TopRight2,Char_Item_TopRight_Space2
	defb Char_Item_BottomLeft_Item_BottomRight2,Char_Space_Needle2
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 15
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Needle_Needle2,Char_Needle_Needle2
	defb Char_Floor_Floor0,Char_Floor_Floor0
CellChars3:
	; 0
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	; 1
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Floor_Floor0,Char_Floor_Space3
	; 2
	defb Char_Space,Char_Space
	defb Char_Item_TopLeft_Item_TopRight3,Char_Item_TopRight_Space3
	defb Char_Item_BottomLeft_Item_BottomRight3,Char_Space
	defb Char_Floor_Floor0,Char_Floor_Space3
	; 3
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Needle_Needle3,Char_Needle_Space3
	defb Char_Floor_Floor0,Char_Floor_Space3
	; 4
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space_Floor3
	; 5
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 6
	defb Char_Space,Char_Space
	defb Char_Item_TopLeft_Item_TopRight3,Char_Item_TopRight_Space3
	defb Char_Item_BottomLeft_Item_BottomRight3,Char_Space
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 7
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Needle_Needle3,Char_Needle_Space3
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 8
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space_Floor3
	; 9
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 10
	defb Char_Space,Char_Space
	defb Char_Item_TopLeft_Item_TopRight3,Char_Item_TopRight_Space3
	defb Char_Item_BottomLeft_Item_BottomRight3,Char_Space
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 11
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Needle_Needle3,Char_Needle_Space3
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 12
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space_Needle3
	defb Char_Space,Char_Space_Floor3
	; 13
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space_Needle3
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 14
	defb Char_Space,Char_Space
	defb Char_Item_TopLeft_Item_TopRight3,Char_Item_TopRight_Space3
	defb Char_Item_BottomLeft_Item_BottomRight3,Char_Space_Needle3
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 15
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Needle_Needle3,Char_Needle_Needle3
	defb Char_Floor_Floor0,Char_Floor_Floor0
CellChars4:
	; 0
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	; 1
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Floor_Floor0,Char_Floor_Space4
	; 2
	defb Char_Space,Char_Space
	defb Char_Item_TopLeft_Item_TopRight4,Char_Item_TopRight_Space4
	defb Char_Item_BottomLeft_Item_BottomRight4,Char_Space
	defb Char_Floor_Floor0,Char_Floor_Space4
	; 3
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Needle_Needle4,Char_Needle_Space4
	defb Char_Floor_Floor0,Char_Floor_Space4
	; 4
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space_Floor4
	; 5
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 6
	defb Char_Space,Char_Space
	defb Char_Item_TopLeft_Item_TopRight4,Char_Item_TopRight_Space4
	defb Char_Item_BottomLeft_Item_BottomRight4,Char_Space
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 7
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Needle_Needle4,Char_Needle_Space4
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 8
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space_Item_BottomLeft4
	defb Char_Space,Char_Space_Floor4
	; 9
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space_Item_BottomLeft4
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 10
	defb Char_Space,Char_Space
	defb Char_Item_TopLeft_Item_TopRight4,Char_Item_TopRight_Space4
	defb Char_Item_BottomLeft_Item_BottomRight4,Char_Space_Item_BottomLeft4
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 11
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Needle_Needle4,Char_Needle_Item_BottomLeft4
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 12
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space_Needle4
	defb Char_Space,Char_Space_Floor4
	; 13
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space_Needle4
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 14
	defb Char_Space,Char_Space
	defb Char_Item_TopLeft_Item_TopRight4,Char_Item_TopRight_Space4
	defb Char_Item_BottomLeft_Item_BottomRight4,Char_Space_Needle4
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 15
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Needle_Needle4,Char_Needle_Needle4
	defb Char_Floor_Floor0,Char_Floor_Floor0
CellChars5:
	; 0
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	; 1
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Floor_Floor0,Char_Floor_Space5
	; 2
	defb Char_Space,Char_Space
	defb Char_Item_TopLeft_Item_TopRight5,Char_Space
	defb Char_Item_BottomLeft_Item_BottomRight5,Char_Space
	defb Char_Floor_Floor0,Char_Floor_Space5
	; 3
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Needle_Needle5,Char_Needle_Space5
	defb Char_Floor_Floor0,Char_Floor_Space5
	; 4
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space_Floor5
	; 5
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 6
	defb Char_Space,Char_Space
	defb Char_Item_TopLeft_Item_TopRight5,Char_Space
	defb Char_Item_BottomLeft_Item_BottomRight5,Char_Space
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 7
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Needle_Needle5,Char_Needle_Space5
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 8
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space_Item_BottomLeft5
	defb Char_Space,Char_Space_Floor5
	; 9
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space_Item_BottomLeft5
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 10
	defb Char_Space,Char_Space
	defb Char_Item_TopLeft_Item_TopRight5,Char_Space
	defb Char_Item_BottomLeft_Item_BottomRight5,Char_Space_Item_BottomLeft5
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 11
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Needle_Needle5,Char_Needle_Item_BottomLeft5
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 12
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space_Needle5
	defb Char_Space,Char_Space_Floor5
	; 13
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space_Needle5
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 14
	defb Char_Space,Char_Space
	defb Char_Item_TopLeft_Item_TopRight5,Char_Space
	defb Char_Item_BottomLeft_Item_BottomRight5,Char_Space_Needle5
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 15
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Needle_Needle5,Char_Needle_Needle5
	defb Char_Floor_Floor0,Char_Floor_Floor0
CellChars6:
	; 0
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	; 1
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Floor_Floor0,Char_Floor_Space6
	; 2
	defb Char_Space,Char_Space
	defb Char_Item_TopLeft_Item_TopRight6,Char_Space
	defb Char_Item_BottomLeft_Item_BottomRight6,Char_Space
	defb Char_Floor_Floor0,Char_Floor_Space6
	; 3
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Needle_Needle6,Char_Needle_Space6
	defb Char_Floor_Floor0,Char_Floor_Space6
	; 4
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space_Floor6
	; 5
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 6
	defb Char_Space,Char_Space
	defb Char_Item_TopLeft_Item_TopRight6,Char_Space
	defb Char_Item_BottomLeft_Item_BottomRight6,Char_Space
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 7
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Needle_Needle6,Char_Needle_Space6
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 8
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space_Item_TopLeft6
	defb Char_Space,Char_Space_Item_BottomLeft6
	defb Char_Space,Char_Space_Floor6
	; 9
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space_Item_TopLeft6
	defb Char_Space,Char_Space_Item_BottomLeft6
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 10
	defb Char_Space,Char_Space
	defb Char_Item_TopLeft_Item_TopRight6,Char_Space_Item_TopLeft6
	defb Char_Item_BottomLeft_Item_BottomRight6,Char_Space_Item_BottomLeft6
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 11
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space_Item_TopLeft6
	defb Char_Needle_Needle6,Char_Needle_Item_BottomLeft6
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 12
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space_Needle6
	defb Char_Space,Char_Space_Floor6
	; 13
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space_Needle6
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 14
	defb Char_Space,Char_Space
	defb Char_Item_TopLeft_Item_TopRight6,Char_Space
	defb Char_Item_BottomLeft_Item_BottomRight6,Char_Space_Needle6
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 15
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Needle_Needle6,Char_Needle_Needle6
	defb Char_Floor_Floor0,Char_Floor_Floor0
CellChars7:
	; 0
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	; 1
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Floor_Floor0,Char_Floor_Space7
	; 2
	defb Char_Space,Char_Space
	defb Char_Item_TopLeft_Item_TopRight7,Char_Space
	defb Char_Item_BottomLeft_Item_BottomRight7,Char_Space
	defb Char_Floor_Floor0,Char_Floor_Space7
	; 3
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Needle_Needle7,Char_Space
	defb Char_Floor_Floor0,Char_Floor_Space7
	; 4
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space_Floor7
	; 5
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 6
	defb Char_Space,Char_Space
	defb Char_Item_TopLeft_Item_TopRight7,Char_Space
	defb Char_Item_BottomLeft_Item_BottomRight7,Char_Space
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 7
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Needle_Needle7,Char_Space
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 8
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space_Item_TopLeft7
	defb Char_Space,Char_Space_Item_BottomLeft7
	defb Char_Space,Char_Space_Floor7
	; 9
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space_Item_TopLeft7
	defb Char_Space,Char_Space_Item_BottomLeft7
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 10
	defb Char_Space,Char_Space
	defb Char_Item_TopLeft_Item_TopRight7,Char_Space_Item_TopLeft7
	defb Char_Item_BottomLeft_Item_BottomRight7,Char_Space_Item_BottomLeft7
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 11
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space_Item_TopLeft7
	defb Char_Needle_Needle7,Char_Space_Item_BottomLeft7
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 12
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Needle_Needle7
	defb Char_Space,Char_Space_Floor7
	; 13
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Space,Char_Needle_Needle7
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 14
	defb Char_Space,Char_Space
	defb Char_Item_TopLeft_Item_TopRight7,Char_Space
	defb Char_Item_BottomLeft_Item_BottomRight7,Char_Needle_Needle7
	defb Char_Floor_Floor0,Char_Floor_Floor0
	; 15
	defb Char_Space,Char_Space
	defb Char_Space,Char_Space
	defb Char_Needle_Needle7,Char_Needle_Needle7
	defb Char_Floor_Floor0,Char_Floor_Floor0
